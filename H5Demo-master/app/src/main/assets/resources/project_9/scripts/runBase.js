function CompEditorRuntime(){this.Initialized=!1,this.Config=null,this.Container=null,this.Components=[]}CompEditorRuntime.prototype.Init=function(e,t){var n="string"!=typeof e?e:document.getElementById(e);this.Container=n;var i={};i.ClientPath="./",i.LocalDataFolder="localdata/",i.Theme="default";for(var o in t)t[o]&&(i[o]=t[o]);if(i.ClientPath){i.ClientPath.substr(i.ClientPath.length-1,1)}this.Config=i,this.Components=[],this.Initialized=!0,this.ParseHtml(),this.LoadResource(),this.getQueryString("redirect_url")&&location.href!=this.getQueryString("redirect_url")&&this.autoRedirect(this.getQueryString("redirect_url"),this.getQueryString("redirect_time"))},CompEditorRuntime.prototype.XmlHttp=function(){return"undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},CompEditorRuntime.prototype.ParseHtml=function(){this.Components=$("div[ce_type=Component]")},CompEditorRuntime.prototype.LoadResource=function(){if(0!=this.Components.length)for(var e=(document.body.firstChild,0);e<this.Components.length;e++){var t=this.Components[e];if(t){var n=t.getElementsByTagName("a");if(n.length>0)for(var i=0;i<n.length;i++)if(n[i].id=="a_"+t.getAttribute("ce_guid")){var o=n[i].getAttribute("link");if(3==o){var r=n[i].getAttribute("packagename"),d=n[i].getAttribute("parameter"),s=n[i].getAttribute("autoBack"),a=n[i].getAttribute("redirectTime");n[i].getAttribute("apkfilename");"true"==s?n[i].setAttribute("onclick","if(typeof(android) != 'undefined') android.OpenApp('"+r+"', '"+a+"', '"+d+"');"):n[i].setAttribute("onclick","if(typeof(android) != 'undefined') android.OpenApp('"+r+"', '0', '"+d+"');"),n[i].setAttribute("href","javascript:void(0);"),t.removeAttribute("linkUrl")}else{var m=t.getAttribute("linkUrl");if(m){if("true"==n[i].getAttribute("autoBack")){var l=location.href,c=document.getElementsByName(n[i].target);c&&c.length>0&&c[0].src&&(l=c[0].src),m=this.setQueryString("redirect_url",this.deleteQueryString("redirect_time",this.deleteQueryString("redirect_url",l)),m),m=this.setQueryString("redirect_time",n[i].getAttribute("redirectTime"),m)}else this.getQueryString("redirect_url")&&0!=m.toLowerCase().indexOf("javascript:")&&(m=this.setQueryString("redirect_url",this.getQueryString("redirect_url"),m),m=this.setQueryString("redirect_time",this.getQueryString("redirect_time"),m));n[i].href=m,n[i].setAttribute("onclick","allPlayerStop('');")}}break}}if("Background"==this.Components[e].getAttribute("ce_command")){var u=this.Components[e],g=document.getElementsByTagName("body")[0],h=$(u).attr("bgstyle"),p=$(u).attr("bgcolor"),y=$(u).attr("filename");y&&($(g).attr("background",y),"1"==h&&(g.style.backgroundRepeat="repeat"),"2"==h&&(g.style.cssText="padding:0px;margin:0px;background-repeat:no-repeat;background-position:center;background-attachment:fixed",p&&$(g).attr("bgcolor",p))),g.style.overflow="hidden"}if("Marquee"==this.Components[e].getAttribute("ce_command")){for(var f=this.Components[e].getElementsByTagName("div"),i=0;i<f.length;i++)if(f[i].id=="show_"+this.Components[e].getAttribute("ce_guid")){this.Components[e].removeChild(f[i]);break}for(var i=0;i<f.length;i++)if(f[i].id=="mymarquee"+this.Components[e].getAttribute("ce_guid")){f[i].style.display="";break}}if("Weather"==this.Components[e].getAttribute("ce_command")){var b=this.Components[e].getElementsByTagName("div")[1];runWeatherComponent(b)}if(this.Components[e].getAttribute("ce_command"),"Button"==this.Components[e].getAttribute("ce_command")){var f=this.Components[e].getElementsByTagName("div");$(".mybutton,#mybutton",this.Components[e]).show();for(var i=0;i<f.length;i++)if(f[i].id=="btn_"+this.Components[e].getAttribute("ce_guid")){this.Components[e].removeChild(f[i]);break}}if("AreaHot"==this.Components[e].getAttribute("ce_command")){var f=this.Components[e].getElementsByTagName("div");$(".myhotarea,#myhotarea",this.Components[e]).show();for(var i=0;i<f.length;i++)if(f[i].id=="btn_"+this.Components[e].getAttribute("ce_guid")){this.Components[e].removeChild(f[i]);break}}if("LinkButton"==this.Components[e].getAttribute("ce_command")){for(var f=this.Components[e].getElementsByTagName("div"),i=0;i<f.length;i++)if(f[i].id=="btn_"+this.Components[e].getAttribute("ce_guid")){this.Components[e].removeChild(f[i]);break}for(var i=0;i<f.length;i++)if(f[i].id=="div_"+this.Components[e].getAttribute("ce_guid")){f[i].style.display="";break}}if("LinkArea"==this.Components[e].getAttribute("ce_command")){this.Components[e].removeChild(document.getElementById("add_Link"));var v=document.getElementById("area_img"),t=v.getAttribute("linkUrl");this.Components[e].removeChild(v);var C=document.getElementById("frmLinkArea");C.style.display="",C.src=t||""}if("Date"==this.Components[e].getAttribute("ce_command")&&($("div[ce_command=Date] .data_container").hide(),setInterval(function(){var e=$("div[ce_command=Date]").attr("dateformat"),t=$("div[ce_command=Date]").attr("showweek"),n="";"zh-cn"==t&&(n=new Array("星期日","星期一","星期二","星期三","星期四","星期五","星期六")[(new Date).getDay()]),"en-us"==t&&(n=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday")[(new Date).getDay()]),"yyyy年MM月dd日"==e&&(e="yyyy年MM月dd日 hh:mm:ss"),"yyyy-MM-dd"==e&&(e="yyyy-MM-dd hh:mm:ss"),"yyyy/MM/dd"==e&&(e="yyyy/MM/dd hh:mm:ss"),"MM/dd/yyyy"==e&&(e="MM/dd/yyyy hh:mm:ss"),"dd/MM/yyyy"==e&&(e="dd/MM/yyyy hh:mm:ss"),n?$("div[ce_command=Date] .data_container").show().html((new Date).format(e.split(/\s+/g)[0])+" "+n+" "+(new Date).format(e.split(/\s+/g)[1])):$("div[ce_command=Date] .data_container").show().html((new Date).format(e.split(/\s+/g)[0])+" "+(new Date).format(e.split(/\s+/g)[1]))},1e3)),"PDF"==this.Components[e].getAttribute("ce_command")){var _=document.getElementById("pdfScript"),A=document.getElementById("pdfImg");if(A.style.display="none",_.title)$(this.Components[e]).find("ul[id^=trans]").each(function(e,t){var n=$(t).attr("id").replace("trans","").replace("Obj","");runAdImg(n)});else if("undefined"!=typeof android)this.Components[e].removeChild(document.getElementById("div_pdf"));else{var E=document.createElement("iframe");E.id="oPDF",E.style.width=A.style.width,E.style.height=A.style.height,E.style.top=A.style.top,E.style.left=A.style.left,E.style.zIndex=A.style.zIndex,E.src=this.Components[e].getAttribute("ce_office_url"),E.style.border="none",E.setAttribute("frameborder",0,0),document.getElementById("pdfObj").appendChild(E)}}if("Word"==this.Components[e].getAttribute("ce_command")){var w,I=document.getElementById("wordScript");if(w=document.getElementById("wordImg")?document.getElementById("wordImg"):document.getElementById("pdfImg"),w.style.display="none",I.title)$(this.Components[e]).find("ul[id^=trans]").each(function(e,t){var n=$(t).attr("id").replace("trans","").replace("Obj","");runAdImg(n)});else if("undefined"!=typeof android)this.Components[e].removeChild(document.getElementById("div_word"));else{var k=document.createElement("iframe");k.id="oWord",k.style.width=w.style.width,k.style.height=w.style.height,k.style.top=w.style.top,k.style.left=w.style.left,k.style.zIndex=w.style.zIndex,k.style.border="none",k.setAttribute("frameborder",0,0),k.src=this.Components[e].getAttribute("ce_office_url"),document.getElementById("wordObj").appendChild(k)}}if("Excel"==this.Components[e].getAttribute("ce_command")){var B,R=document.getElementById("excelScript");if(B=document.getElementById("excelImg")?document.getElementById("excelImg"):document.getElementById("pdfImg"),B.style.display="none",R.title)$(this.Components[e]).find("ul[id^=trans]").each(function(e,t){var n=$(t).attr("id").replace("trans","").replace("Obj","");runAdImg(n)});else if("undefined"!=typeof android)this.Components[e].removeChild(document.getElementById("div_excel"));else{var x=document.createElement("iframe");x.id="oExcel",x.style.width=B.style.width,x.style.height=B.style.height,x.style.top=B.style.top,x.style.left=B.style.left,x.style.zIndex=B.style.zIndex,x.style.border="none",x.setAttribute("frameborder",0,0),x.src=this.Components[e].getAttribute("ce_office_url"),document.getElementById("excelObj").appendChild(x)}}if("PPT"==this.Components[e].getAttribute("ce_command")){var M,S=document.getElementById("pptScript");if(M=document.getElementById("pptImg")?document.getElementById("pptImg"):document.getElementById("pdfImg"),M.style.display="none",S.title)$(this.Components[e]).find("ul[id^=trans]").each(function(e,t){var n=$(t).attr("id").replace("trans","").replace("Obj","");runAdImg(n)});else if("undefined"!=typeof android)this.Components[e].removeChild(document.getElementById("div_ppt"));else{var T=document.createElement("iframe");T.id="oPPT",T.style.width=M.style.width,T.style.height=M.style.height,T.style.top=M.style.top,T.style.left=M.style.left,T.style.zIndex=M.style.zIndex,T.style.border="none",T.setAttribute("frameborder",0,0),T.src=this.Components[e].getAttribute("ce_office_url"),document.getElementById("pptObj").appendChild(T)}}if("Image"==this.Components[e].getAttribute("ce_command")&&$(this.Components[e]).find("ul[id^=trans]").each(function(e,t){var n=$(t).attr("id").replace("trans","").replace("Obj","");runAdImg(n)}),"LiveVideo"==this.Components[e].getAttribute("ce_command")){var O=$(this.Components[e]).find("img[id=livevideoImg]");O.hide()}if("Album"==this.Components[e].getAttribute("ce_command")){var D=$("div[ce_command='AlbumArea'][ce_album='"+this.Components[e].getAttribute("ce_guid")+"']");D.length>0&&(D.css("visibility","hidden"),D.show()),this.Components[e].onclick=function(){var e=null,t=$("div[ce_command='Album'][ce_guid='"+this.getAttribute("ce_guid")+"']");t.length>0&&(e=t.find("img").get(0));var n=$("div[ce_command='AlbumArea'][ce_album='"+this.getAttribute("ce_guid")+"']");0==n.length&&(n=$("div[ce_command='AlbumArea']",window.top.document)),0==n.length?img=$(this):img=n,img=img.find("img").get(0);var i=window.location.pathname.substring(0,window.location.pathname.lastIndexOf("/")+1),o="";$("ul li img",$(this)).each(function(e){e>0&&(o+="|"+i+this.getAttribute("src"))}),o&&(o=o.substr(1));var r="",d="",s="",a="";"yes"==e.getAttribute("isurlstart")?(d=e.getAttribute("starturl"),"on"==e.getAttribute("clickType")?(s=e.getAttribute("autoback"),a="1"):(s="0",a="0"),r='data:{ type:"webview", url:"'+d+'", autoback:"'+s+'", state:"'+a+'", files:"'+o+'", folder:"", autoplay:true, timeout:30, left:"'+img.parentNode.offsetLeft+'", top:"'+img.parentNode.offsetTop+'", width:"'+img.offsetWidth+'", height:"'+img.offsetHeight+'"}'):r='data:{ type:"image", files:"'+o+'", folder:"", autoplay:true, timeout:30, left:"'+img.parentNode.offsetLeft+'", top:"'+img.parentNode.offsetTop+'", width:"'+img.offsetWidth+'", height:"'+img.offsetHeight+'"}',"on"==e.getAttribute("clickType")?e.setAttribute("clickType","off"):e.setAttribute("clickType","on"),"undefined"!=typeof android&&android.SendBroadcast("com.ebanswers.album",r)}}}},CompEditorRuntime.prototype.HammerApply=function(){Hammer.HAS_TOUCHEVENTS||Hammer.HAS_POINTEREVENTS||(Hammer.plugins.showTouches(),Hammer.plugins.fakeMultitouch()),$("*[onGesture]").length>0&&$("body").hammer({transform_always_block:!0,transform_min_scale:1,drag_block_horizontal:!0,drag_block_vertical:!0,drag_min_distance:0}).bind("touch release drag dragend transform swipe swipeleft swiperight",function(ev){for(var elemRect=event.srcElement;elemRect!=document.body;){if(elemRect.getAttribute("onGesture")){elemRect.onGesture&&"string"!=typeof elemRect.onGesture||eval("elemRect.onGesture = function(evt){\r\n"+elemRect.getAttribute("onGesture")+"\r\n}");break}elemRect=elemRect.parentNode}elemRect.onGesture&&elemRect.onGesture.call(elemRect,ev)})},window.compruntime||(window.compruntime=new CompEditorRuntime),Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},CompEditorRuntime.prototype.autoRedirect=function(e,t){t||(t=2e4);var n=null,i=function(){o(),n=setTimeout(function(){"undefined"!=typeof android&&android.LoadingDialog(),location.href=e},t)},o=function(){n&&clearTimeout(n)};$(document).click(function(){i()}),i()},CompEditorRuntime.prototype.getQueryString=function(e,t){return t||(t=location.href),new RegExp("(^|\\?|&)"+e+"=([^&]*)(\\s|&|$)","i").test(t)?unescape(RegExp.$2.replace(/\+/g," ")):""},CompEditorRuntime.prototype.setQueryString=function(e,t,n){n||(n=location.href);var i=new RegExp(e+"=([^&]*)(\\s||$)","i");return i.test(n)?n.replace(i,e+"="+t):n.indexOf("?")<0||""==n.substring(n.indexOf("?"),n.length-1)?n+(n.indexOf("?")<0?"?":"")+e+"="+t:""!=n.substring(n.indexOf("?"),n.length-1)?n+"&"+e+"="+t:void 0},CompEditorRuntime.prototype.deleteQueryString=function(e,t){t||(t=location.href);var n=new RegExp(e+"=([^&]*)(\\s|&|$)","i");return t=t.replace(n,""),t.lastIndexOf("&")==t.length-1&&(t=t.substring(0,t.length-1)),t.lastIndexOf("?")==t.length-1&&(t=t.substring(0,t.length-1)),t};var methodInvoke=function(e,t,n){try{for(var i=new Array,o=1;o<arguments.length;o++)i.push(arguments[o]);e&&"function"==typeof e&&e.apply(this,i);for(var r=$("iframe"),o=0;o<r.length;o++)r.get(o).contentWindow.postMessage(jsonToString({method:e,args:i}),r.get(o).src)}catch(i){"undefined"!=typeof android&&android.SendBroadcast("com.ebanswers.methodInvoke",'{ method: "'+e+'",param: "'+t+'", token: "'+n+'", result: "invalid component" }')}},serialPortInput=function(e,t){for(var n=$("iframe"),i=0;i<n.length;i++)n.get(i).contentWindow.postMessage("{command: "+e+", data: '"+t+"'}",n.get(i).src)};