function runWeatherComponent(t){var e=$(t).attr("id"),a=$(t).attr("fontsize"),i=$(t).attr("color"),n="true"==$(t).attr("bold"),r="true"==$(t).attr("showImg"),s=1e3*parseInt($(t).attr("speed")),o=decodeURIComponent($(t).attr("serviceApi")),l={};l.citys=$(t).attr("citys"),$.ajax({type:"POST",url:o+"/api/weather/getWeatherData",contentType:"application/json",data:JSON.stringify(l),async:!1,success:function(t){0===t.code?showCitysWeather(t.list,e,a,i,n,r,s):alert(t.msg)}})}function showCitysWeather(t,e,a,i,n,r,s){if(t.length>1)t=t,setInterval(function(){cityIndex>=t.length&&(cityIndex=0),showCityWeather(t[cityIndex],e,a,i,n,r,s),cityIndex++},s);else{showCityWeather(t[0],e,a,i,n,r,s)}}function showCityWeather(t,e,a,i,n,r,s){loadCityWeatherHtml(e,a,i,n,r?t.imgPath:"",t.city,t.weather,t.temperature)}function loadCityWeatherHtml(t,e,a,i,n,r,s,o){var l=$("#"+t)[0];if(l.style.fontSize=e+"px",l.style.color=a,l.style.fontWeight=i?"bold":"",n){var y=$(l).find("div[name='imageBox']")[0];y.style.width=3*parseInt(e)+"px",y.style.styleFloat="left",y.style.cssFloat="left",y.innerHTML='<img src="'+n+"\" alt='"+s+'\' style="width:100%" />';var d=$(l).find("div[name='cityWeatherName']")[0];d.style.padding=e/4+"px",d.innerHTML=r+"   "+s;var c=$(l).find("div[name='cityWeatherTemperature']")[0];parseInt(e)>30&&(c.style.padding=e/6+"px"),parseInt(e)>50&&(c.style.padding=e/4+"px"),c.innerHTML=o}else $(l).find("span")[1].innerHTML=r+" "+s+" "+o}var cityDataList,cityIndex=0;