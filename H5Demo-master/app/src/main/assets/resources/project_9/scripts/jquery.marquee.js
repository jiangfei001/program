!function(t){t.fn.marquee=function(e){function a(t,e,a){var i=a.behavior,r=a.width,s=a.dir;return"alternate"==i?1==t?e[a.widthAxis]-2*r:r:"slide"==i?-1==t?-1==s?e[a.widthAxis]:r:-1==s?e[a.widthAxis]-2*r:0:-1==t?e[a.widthAxis]:0}function i(){for(var e=s.length,l=null,o=null,d={},n=[],h=!1;e--;)l=s[e],o=t(l),d=o.data("marqueeState"),!0!==o.data("paused")?(l[d.axis]+=d.scrollamount*d.dir,d.pageStay>0&&r(l,d.pageStay),h=-1==d.dir?l[d.axis]<=a(-1*d.dir,l,d):l[d.axis]>=a(-1*d.dir,l,d),"scroll"==d.behavior&&d.last==l[d.axis]||"alternate"==d.behavior&&h&&-1!=d.last||"slide"==d.behavior&&h&&-1!=d.last?("alternate"==d.behavior&&(d.dir*=-1),d.last=-1,o.trigger("stop"),d.loops--,0===d.loops?("slide"!=d.behavior?l[d.axis]=a(d.dir,l,d):l[d.axis]=a(-1*d.dir,l,d),clearTimeout(void 0),o.trigger("end")):(n.push(l),o.trigger("start"),l[d.axis]=a(d.dir,l,d))):n.push(l),d.last=l[d.axis],o.data("marqueeState",d)):n.push(l);s=n,s.length&&setTimeout(i,25)}function r(e,a){0!=e[marqueeState.axis]&&e[marqueeState.axis]%e[marqueeState.pageAxis]<marqueeState.scrollamount&&(t(e).trigger("stop"),o||(o=!0,pageTimeout=setTimeout(function(){t(e).trigger("start"),o=!1},a)))}var s=[],l=this.length,o=!1;return this.each(function(r){var o=t(this),d=(o.attr("direction")||"left").toLowerCase(),n=o.attr("width")||o.width(),h=o.attr("height")||o.height(),u=/left|right/.test(d),p=u?o.after("<div "+(e?'class="'+e+'" ':"")+'style="display: block-inline; width: '+n+"px; height: "+h+"px; overflow: hidden; "+o.attr("style")+'"><div style="float: left; white-space: nowrap;">'+o.html()+"</div></div>").next():o.after("<div "+(e?'class="'+e+'" ':"")+'style="display: block-inline; width: '+n+"px; height: "+h+"px; overflow: hidden; "+o.attr("style")+'"><div style="word-break:break-all;">'+o.html()+"</div></div>").next(),g=p.get(0),f=0;o.attr("pageStay")&&!isNaN(o.attr("pageStay"))&&(f=o.attr("pageStay")),marqueeState={dir:/down|right/.test(d)?-1:1,axis:/left|right/.test(d)?"scrollLeft":"scrollTop",widthAxis:/left|right/.test(d)?"scrollWidth":"scrollHeight",last:-1,loops:o.attr("loop")||-1,scrollamount:o.attr("scrollamount")||this.scrollAmount||2,behavior:(o.attr("behavior")||"scroll").toLowerCase(),width:/left|right/.test(d)?n:h,pageStay:f,pageAxis:/left|right/.test(d)?"offsetWidth":"offsetHeight"},-1==o.attr("loop")&&"slide"==marqueeState.behavior&&(marqueeState.loops=1),o.remove(),/left|right/.test(d)?p.find("> div").css("padding","0 "+n+"px"):p.find("> div").css("padding",h+"px 0"),p.bind("stop",function(){p.data("paused",!0)}).bind("pause",function(){p.data("paused",!0)}).bind("start",function(){p.data("paused",!1)}).bind("unpause",function(){p.data("paused",!1)}).data("marqueeState",marqueeState),s.push(g),g[marqueeState.axis]=a(marqueeState.dir,g,marqueeState),p.trigger("start"),r+1==l&&i()}),t(s)}}(jQuery);